Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cluster nodes: 500
Job stats:
job                                    count    min threads    max threads
-----------------------------------  -------  -------------  -------------
AnnotationPostStandardization              3              1              1
AnnotationPreStandardization               3              1              1
Assembly                                   3              8              8
Backmapping                                3              8              8
BackmappingQC                              3              1              1
BuildReferenceAnnotationBackmapping        3              4              4
FilteringQC_fastqc                         2              1              1
FilteringQC_multiqc                        2              1              1
FilteringReads                             2              1              1
SortReads                                  2              1              1
StandardizationAnnotation                  3              1              1
TrimReads                                  1              1              1
all                                        1              1              1
total                                     31              1              8

Select jobs to execute...

[Wed Aug 16 14:57:02 2023]
rule TrimReads:
    input: /scratch/sjannalda/projects/PlastidPipelineTesting/data/SRR12432532/SRR12432532_1.fastq, /scratch/sjannalda/projects/PlastidPipelineTesting/data/SRR12432532/SRR12432532_2.fastq
    output: SRR12432532/data/SRR12432532_1.trimmed.fastq, SRR12432532/data/SRR12432532_2.trimmed.fastq, SRR12432532/data/SRR12432532_U1.trimmed.fastq, SRR12432532/data/SRR12432532_U2.trimmed.fastq
    jobid: 44
    reason: Missing output files: SRR12432532/data/SRR12432532_1.trimmed.fastq, SRR12432532/data/SRR12432532_2.trimmed.fastq
    wildcards: sample=SRR12432532
    resources: mem_mb=5000, disk_mb=11821, tmpdir=<TBD>, time=0-02:00:00, qos=standard


		module load Trimmomatic
		java -jar $EBROOTTRIMMOMATIC/trimmomatic-0.39.jar PE -phred33 /scratch/sjannalda/projects/PlastidPipelineTesting/data/SRR12432532/SRR12432532_1.fastq /scratch/sjannalda/projects/PlastidPipelineTesting/data/SRR12432532/SRR12432532_2.fastq SRR12432532/data/SRR12432532_1.trimmed.fastq SRR12432532/data/SRR12432532_U1.trimmed.fastq SRR12432532/data/SRR12432532_2.trimmed.fastq SRR12432532/data/SRR12432532_U2.trimmed.fastq ILLUMINACLIP:$EBROOTTRIMMOMATIC/adapters/TruSeq3-PE-2.fa:2:30:10 LEADING:20 TRAILING:20 SLIDINGWINDOW:5:20 MINLEN:36
		
Submitted job 44 with external jobid 'Submitted batch job 14018365'.

[Wed Aug 16 14:57:02 2023]
rule FilteringQC_multiqc:
    input: SRR17032105/qc/filtering/SRR17032105_1.filt.fastqc.html, SRR17032105/qc/filtering/SRR17032105_2.filt.fastqc.html
    output: SRR17032105/qc/filtering/filtering_report_SRR17032105.html
    jobid: 33
    reason: Code has changed since last execution
    wildcards: sample=SRR17032105
    resources: mem_mb=5000, disk_mb=1000, tmpdir=<TBD>, time=0-00:10:00, qos=standard


		module load MultiQC
		multiqc -n SRR17032105/qc/filtering/filtering_report_SRR17032105.html --no-data-dir SRR17032105/qc/filtering
		
Submitted job 33 with external jobid 'Submitted batch job 14018366'.

[Wed Aug 16 14:57:02 2023]
rule Assembly:
    input: database/SeedDatabase/embplant_pt.fasta, SRR17032105/data/SRR17032105_1.filt.fastq, SRR17032105/data/SRR17032105_2.filt.fastq
    output: SRR17032105/assembly/SRR17032105.original.fasta
    jobid: 68
    reason: Code has changed since last execution
    wildcards: sample=SRR17032105
    threads: 8
    resources: mem_mb=20000, disk_mb=4978, tmpdir=<TBD>, time=0-5:00:00, qos=standard


		module load Bowtie2
		module load BLAST+
		module load SPAdes
		get_organelle_from_reads.py -1 SRR17032105/data/SRR17032105_1.filt.fastq -2 SRR17032105/data/SRR17032105_2.filt.fastq \
			-o SRR17032105/assembly -R 30 -k 21,45,65,85,105 -P 1000000 \
			-F embplant_pt --config-dir database\
			-t 8 --prefix SRR17032105 --overwrite
		scp SRR17032105/assembly/*.complete.graph1.1.path_sequence.fasta SRR17032105/assembly/SRR17032105.original.fasta
		
Submitted job 68 with external jobid 'Submitted batch job 14018367'.

[Wed Aug 16 14:57:03 2023]
rule Assembly:
    input: database/SeedDatabase/embplant_pt.fasta, ERR5529299/data/ERR5529299_1.filt.fastq, ERR5529299/data/ERR5529299_2.filt.fastq
    output: ERR5529299/assembly/ERR5529299.original.fasta
    jobid: 64
    reason: Missing output files: ERR5529299/assembly/ERR5529299.original.fasta
    wildcards: sample=ERR5529299
    threads: 8
    resources: mem_mb=20000, disk_mb=5340, tmpdir=<TBD>, time=0-5:00:00, qos=standard


		module load Bowtie2
		module load BLAST+
		module load SPAdes
		get_organelle_from_reads.py -1 ERR5529299/data/ERR5529299_1.filt.fastq -2 ERR5529299/data/ERR5529299_2.filt.fastq \
			-o ERR5529299/assembly -R 30 -k 21,45,65,85,105 -P 1000000 \
			-F embplant_pt --config-dir database\
			-t 8 --prefix ERR5529299 --overwrite
		scp ERR5529299/assembly/*.complete.graph1.1.path_sequence.fasta ERR5529299/assembly/ERR5529299.original.fasta
		
Submitted job 64 with external jobid 'Submitted batch job 14018368'.
[Wed Aug 16 14:57:12 2023]
Finished job 33.
1 of 31 steps (3%) done
[Wed Aug 16 15:02:25 2023]
Finished job 44.
2 of 31 steps (6%) done
Select jobs to execute...

[Wed Aug 16 15:02:25 2023]
rule SortReads:
    input: SRR12432532/data/SRR12432532_1.trimmed.fastq
    output: SRR12432532/data/SRR12432532_1.sorted.fastq
    jobid: 43
    reason: Missing output files: SRR12432532/data/SRR12432532_1.sorted.fastq; Input files updated by another job: SRR12432532/data/SRR12432532_1.trimmed.fastq
    wildcards: sample=SRR12432532, read=1
    resources: mem_mb=5000, disk_mb=3336, tmpdir=<TBD>, time=0-01:00:00, qos=standard


		module load bioawk
		bioawk -c fastx '{print}' SRR12432532/data/SRR12432532_1.trimmed.fastq | sort | awk -F'\t' '{print "@"$1;print $2;print "+"$1;print $3}' > SRR12432532/data/SRR12432532_1.sorted.fastq
		
Submitted job 43 with external jobid 'Submitted batch job 14018396'.

[Wed Aug 16 15:02:25 2023]
rule SortReads:
    input: SRR12432532/data/SRR12432532_2.trimmed.fastq
    output: SRR12432532/data/SRR12432532_2.sorted.fastq
    jobid: 47
    reason: Missing output files: SRR12432532/data/SRR12432532_2.sorted.fastq; Input files updated by another job: SRR12432532/data/SRR12432532_2.trimmed.fastq
    wildcards: sample=SRR12432532, read=2
    resources: mem_mb=5000, disk_mb=3034, tmpdir=<TBD>, time=0-01:00:00, qos=standard


		module load bioawk
		bioawk -c fastx '{print}' SRR12432532/data/SRR12432532_2.trimmed.fastq | sort | awk -F'\t' '{print "@"$1;print $2;print "+"$1;print $3}' > SRR12432532/data/SRR12432532_2.sorted.fastq
		
Submitted job 47 with external jobid 'Submitted batch job 14018397'.
[Wed Aug 16 15:03:43 2023]
Finished job 47.
3 of 31 steps (10%) done
Select jobs to execute...

[Wed Aug 16 15:03:43 2023]
rule FilteringReads:
    input: SRR12432532/data/SRR12432532_2.sorted.fastq
    output: SRR12432532/data/SRR12432532_2.filt.fastq
    jobid: 46
    reason: Missing output files: SRR12432532/data/SRR12432532_2.filt.fastq; Input files updated by another job: SRR12432532/data/SRR12432532_2.sorted.fastq
    wildcards: sample=SRR12432532, read=2
    resources: mem_mb=10000, disk_mb=2700, tmpdir=<TBD>, time=0-03:00:00, qos=standard


		module load FASTX-Toolkit
		fastq_quality_filter -q 30 -i SRR12432532/data/SRR12432532_2.sorted.fastq -o SRR12432532/data/SRR12432532_2.filt.fastq
		
Submitted job 46 with external jobid 'Submitted batch job 14018410'.
[Wed Aug 16 15:03:56 2023]
Finished job 43.
4 of 31 steps (13%) done
Select jobs to execute...

[Wed Aug 16 15:03:56 2023]
rule FilteringReads:
    input: SRR12432532/data/SRR12432532_1.sorted.fastq
    output: SRR12432532/data/SRR12432532_1.filt.fastq
    jobid: 42
    reason: Missing output files: SRR12432532/data/SRR12432532_1.filt.fastq; Input files updated by another job: SRR12432532/data/SRR12432532_1.sorted.fastq
    wildcards: sample=SRR12432532, read=1
    resources: mem_mb=10000, disk_mb=3003, tmpdir=<TBD>, time=0-03:00:00, qos=standard


		module load FASTX-Toolkit
		fastq_quality_filter -q 30 -i SRR12432532/data/SRR12432532_1.sorted.fastq -o SRR12432532/data/SRR12432532_1.filt.fastq
		
Submitted job 42 with external jobid 'Submitted batch job 14018412'.
[Wed Aug 16 15:17:10 2023]
Finished job 46.
5 of 31 steps (16%) done
Select jobs to execute...

[Wed Aug 16 15:17:10 2023]
rule FilteringQC_fastqc:
    input: SRR12432532/data/SRR12432532_2.filt.fastq
    output: SRR12432532/qc/filtering/SRR12432532_2.filt.fastqc.html
    jobid: 45
    reason: Missing output files: SRR12432532/qc/filtering/SRR12432532_2.filt.fastqc.html; Input files updated by another job: SRR12432532/data/SRR12432532_2.filt.fastq
    wildcards: sample=SRR12432532, read=2
    resources: mem_mb=5000, disk_mb=2700, tmpdir=<TBD>, time=0-00:30:00, qos=standard


		module load FastQC/0.11.9-Java-11

		mkdir -p SRR12432532/qc
		mkdir -p SRR12432532/qc/filtering
		fastqc -o SRR12432532/qc/filtering SRR12432532/data/SRR12432532_2.filt.fastq
		mv SRR12432532/qc/filtering/SRR12432532_2.filt_fastqc.html SRR12432532/qc/filtering/SRR12432532_2.filt.fastqc.html
		
Submitted job 45 with external jobid 'Submitted batch job 14018548'.
[Wed Aug 16 15:18:01 2023]
Finished job 45.
6 of 31 steps (19%) done
[Wed Aug 16 15:20:14 2023]
Finished job 42.
7 of 31 steps (23%) done
Select jobs to execute...

[Wed Aug 16 15:20:14 2023]
rule Assembly:
    input: database/SeedDatabase/embplant_pt.fasta, SRR12432532/data/SRR12432532_1.filt.fastq, SRR12432532/data/SRR12432532_2.filt.fastq
    output: SRR12432532/assembly/SRR12432532.original.fasta
    jobid: 72
    reason: Missing output files: SRR12432532/assembly/SRR12432532.original.fasta; Input files updated by another job: SRR12432532/data/SRR12432532_1.filt.fastq, SRR12432532/data/SRR12432532_2.filt.fastq
    wildcards: sample=SRR12432532
    threads: 8
    resources: mem_mb=20000, disk_mb=5733, tmpdir=<TBD>, time=0-5:00:00, qos=standard


		module load Bowtie2
		module load BLAST+
		module load SPAdes
		get_organelle_from_reads.py -1 SRR12432532/data/SRR12432532_1.filt.fastq -2 SRR12432532/data/SRR12432532_2.filt.fastq \
			-o SRR12432532/assembly -R 30 -k 21,45,65,85,105 -P 1000000 \
			-F embplant_pt --config-dir database\
			-t 8 --prefix SRR12432532 --overwrite
		scp SRR12432532/assembly/*.complete.graph1.1.path_sequence.fasta SRR12432532/assembly/SRR12432532.original.fasta
		
Submitted job 72 with external jobid 'Submitted batch job 14018562'.

[Wed Aug 16 15:20:15 2023]
rule FilteringQC_fastqc:
    input: SRR12432532/data/SRR12432532_1.filt.fastq
    output: SRR12432532/qc/filtering/SRR12432532_1.filt.fastqc.html
    jobid: 41
    reason: Missing output files: SRR12432532/qc/filtering/SRR12432532_1.filt.fastqc.html; Input files updated by another job: SRR12432532/data/SRR12432532_1.filt.fastq
    wildcards: sample=SRR12432532, read=1
    resources: mem_mb=5000, disk_mb=3003, tmpdir=<TBD>, time=0-00:30:00, qos=standard


		module load FastQC/0.11.9-Java-11

		mkdir -p SRR12432532/qc
		mkdir -p SRR12432532/qc/filtering
		fastqc -o SRR12432532/qc/filtering SRR12432532/data/SRR12432532_1.filt.fastq
		mv SRR12432532/qc/filtering/SRR12432532_1.filt_fastqc.html SRR12432532/qc/filtering/SRR12432532_1.filt.fastqc.html
		
Submitted job 41 with external jobid 'Submitted batch job 14018564'.
[Wed Aug 16 15:21:06 2023]
Finished job 41.
8 of 31 steps (26%) done
Select jobs to execute...

[Wed Aug 16 15:21:06 2023]
rule FilteringQC_multiqc:
    input: SRR12432532/qc/filtering/SRR12432532_1.filt.fastqc.html, SRR12432532/qc/filtering/SRR12432532_2.filt.fastqc.html
    output: SRR12432532/qc/filtering/filtering_report_SRR12432532.html
    jobid: 40
    reason: Missing output files: SRR12432532/qc/filtering/filtering_report_SRR12432532.html; Input files updated by another job: SRR12432532/qc/filtering/SRR12432532_1.filt.fastqc.html, SRR12432532/qc/filtering/SRR12432532_2.filt.fastqc.html
    wildcards: sample=SRR12432532
    resources: mem_mb=5000, disk_mb=1000, tmpdir=<TBD>, time=0-00:10:00, qos=standard


		module load MultiQC
		multiqc -n SRR12432532/qc/filtering/filtering_report_SRR12432532.html --no-data-dir SRR12432532/qc/filtering
		
Submitted job 40 with external jobid 'Submitted batch job 14018572'.
[Wed Aug 16 15:21:18 2023]
Finished job 40.
9 of 31 steps (29%) done
[Wed Aug 16 15:39:09 2023]
Finished job 68.
10 of 31 steps (32%) done
Select jobs to execute...

[Wed Aug 16 15:39:09 2023]
localrule AnnotationPreStandardization:
    input: SRR17032105/assembly/SRR17032105.original.fasta
    output: SRR17032105/annotation/SRR17032105.original.gb
    jobid: 67
    reason: Input files updated by another job: SRR17032105/assembly/SRR17032105.original.fasta
    wildcards: sample=SRR17032105
    resources: mem_mb=1000, disk_mb=1000, tmpdir=/tmp, time=0-00:05:00, qos=standard

/home/sjannalda/miniconda3/bin/python3.8 /scratch/sjannalda/projects/PlastidPipelineTesting/.snakemake/scripts/tmpwyhcn7fc.GeSeqAutomation.py
[Wed Aug 16 15:39:26 2023]
Error in rule AnnotationPreStandardization:
    jobid: 67
    input: SRR17032105/assembly/SRR17032105.original.fasta
    output: SRR17032105/annotation/SRR17032105.original.gb

RuleException:
CalledProcessError in line 7 of /home/sjannalda/bgbm/projects/PlastidPipeline/workflow/rules/Annotation.smk:
Command 'set -euo pipefail;  /home/sjannalda/miniconda3/bin/python3.8 /scratch/sjannalda/projects/PlastidPipelineTesting/.snakemake/scripts/tmpwyhcn7fc.GeSeqAutomation.py' returned non-zero exit status 1.
  File "/home/sjannalda/bgbm/projects/PlastidPipeline/workflow/rules/Annotation.smk", line 7, in __rule_AnnotationPreStandardization
  File "/home/sjannalda/miniconda3/lib/python3.8/concurrent/futures/thread.py", line 57, in run
[Wed Aug 16 15:44:52 2023]
Error in rule Assembly:
    jobid: 64
    input: database/SeedDatabase/embplant_pt.fasta, ERR5529299/data/ERR5529299_1.filt.fastq, ERR5529299/data/ERR5529299_2.filt.fastq
    output: ERR5529299/assembly/ERR5529299.original.fasta
    shell:
        
		module load Bowtie2
		module load BLAST+
		module load SPAdes
		get_organelle_from_reads.py -1 ERR5529299/data/ERR5529299_1.filt.fastq -2 ERR5529299/data/ERR5529299_2.filt.fastq \
			-o ERR5529299/assembly -R 30 -k 21,45,65,85,105 -P 1000000 \
			-F embplant_pt --config-dir database\
			-t 8 --prefix ERR5529299 --overwrite
		scp ERR5529299/assembly/*.complete.graph1.1.path_sequence.fasta ERR5529299/assembly/ERR5529299.original.fasta
		
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)
    cluster_jobid: Submitted batch job 14018368

Error executing rule Assembly on cluster (jobid: 64, external: Submitted batch job 14018368, jobscript: /scratch/sjannalda/projects/PlastidPipelineTesting/.snakemake/tmp.mv7lekgy/snakejob.Assembly.64.sh). For error details see the cluster log and the log files of the involved rule(s).
Will exit after finishing currently running jobs (scheduler).
Will exit after finishing currently running jobs (scheduler).
